## Deep Pill Finder v0.01
#
# ????????????????????? ?????????????????????????????????????????????????????????????????????     ????????????????????? ??????????????????     ?????????         ?????????????????????????????????????????????   ?????????????????????????????? ????????????????????????????????????????????? 
# ????????????????????????????????????????????????????????????????????????????????????????????????    ??????????????????????????????????????????     ?????????         ????????????????????????????????????????????????  ?????????????????????????????????????????????????????????????????????????????????
# ?????????  ???????????????????????????  ??????????????????  ????????????????????????    ??????????????????????????????????????????     ?????????         ??????????????????  ??????????????????????????? ??????????????????  ???????????????????????????  ????????????????????????
# ?????????  ???????????????????????????  ??????????????????  ?????????????????????     ????????????????????? ??????????????????     ?????????         ??????????????????  ????????????????????????????????????????????????  ???????????????????????????  ????????????????????????
# ?????????????????????????????????????????????????????????????????????????????????         ?????????     ?????????????????????????????????????????????????????????    ?????????     ?????????????????? ???????????????????????????????????????????????????????????????????????????  ?????????
# ????????????????????? ?????????????????????????????????????????????????????????         ?????????     ?????????????????????????????????????????????????????????    ?????????     ??????????????????  ???????????????????????????????????? ?????????????????????????????????  ?????????
#
# This file: Orginal Code: Juan M. Banda
# dependencies: none
#
# This file normalizes image data converted into csv row format. It uses min-max normalization

pathH <- '/Users/juanbanda/Documents/CODE/healthplusplus2016/'
### Min Max Normalization function
normalize_function <- function(x){(x-min(x))/(max(x)-min(x))}

### Handle train file ###
dataset <- read.csv(paste(pathH,"train_pill_smds1_size64.csv",sep=""), header = TRUE, sep = ",", as.is = TRUE)
labels_df <- data.frame()
labels_df <- dataset$label
drops <- c("label")
datset <- as.matrix(dataset[ , !(names(dataset) %in% drops)])
dataset <- as.data.frame(normalize_function(datset))
dataset$label <- labels_df
write.csv(dataset, paste(pathH,"norm_train_pill_test_par_size64.csv",sep=''), row.names = FALSE)

### Handle test file ###
dataset <- read.csv(paste(pathH,"test_pill_smds1_size64.csv",sep=""), header = TRUE, sep = ",", as.is = TRUE)
labels_df <- data.frame()
labels_df <- dataset$label
drops <- c("label")
datset <- as.matrix(dataset[ , !(names(dataset) %in% drops)])
dataset <- as.data.frame(normalize_function(datset))
dataset$label <- labels_df
write.csv(dataset, paste(pathH,"norm_test_pill_test_par_size64.csv",sep=''), row.names = FALSE)
